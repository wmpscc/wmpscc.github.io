<!DOCTYPE html>
<html lang="zh-CN">

  
<head>
  <meta charset="utf-8">
  <meta name="baidu-site-verification" content="5CxA73ejrD">
  <meta name="author" content="è‘£æ²…é‘«, yuanxin.me@gmail.com">
  
    <meta name="robots" content="noindex">
  
  
  
  <title>é¸¢å°¾èŠ±å¼€</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="wmpscc, HeoLis">
  

  <script>
    console.log('\n%c Hexo-theme-bmw v4.0 ' + '%c ğŸ‰ https://github.com/dongyuanxin/theme-bmw ğŸ‰\n' + '\n%c View demo online ' + '%c ğŸ” https://ishero.net/ ğŸ”  \n' , 'color: #fadfa3; background: #030307; padding:3px 0;', '', 'color: #fadfa3; background: #030307; padding:3px 0;', '');
  </script>

  
    <meta name="description" content="CV&amp;MLæŠ€æœ¯æ–°äººçš„åšå®¢ï¼Œè®°å½•æˆ‘çš„å­¦ä¹ æˆé•¿è¿‡ç¨‹ï¼">
  

  

  
    <link rel="icon" href="/images/favicon.ico">
    <link rel="apple-touch-icon" href="/images/touch-icon.png">
  

  <link href="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.css" rel="stylesheet">
  
<link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="/icon/iconfont.css">
<link rel="stylesheet" href="/css/github-markdown.css">
<link rel="stylesheet" href="/css/highlight.css">


  
<script src="/js/util.js"></script>
<script src="/js/valine.min.js"></script>


  
    
<link rel="stylesheet" href="/custom/style.css">

  

  

  
    <link href="https://cdn.bootcss.com/social-share.js/1.0.16/css/share.min.css" rel="stylesheet">
  
  
  <script src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js" async></script>
  
  
    <script src="//cdn.jsdelivr.net/npm/leancloud-storage@3.11.0/dist/av-min.js"></script>
  

<meta name="generator" content="Hexo 4.2.0"></head>


  <body>
    <meta name="referrer" content="no-referrer">

    

    <div id="app">

      <div class="header-wrap">
  <header>
    <div class="site-brand">
      <div class="site-title">
        <a href="/">isHero.net</a>
      </div>
    </div>
    <nav class="site-navigation">
      <ul class="nav-menu">
      
        <li class="nav-item" data-path="/">
          
            <a href="/" target="_self">
              ä¸»é¡µ
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/archives/">
          
            <a href="/archives/" target="_self">
              å½’æ¡£
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/categories/">
          
            <a href="/categories/" target="_self">
              åˆ†ç±»
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/tags/">
          
            <a href="/tags/" target="_self">
              æ ‡ç­¾
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/friends/">
          
            <a href="/friends/" target="_self">
              å‹é“¾
            </a>
          
        </li>
      
        <li class="nav-item" data-path="">
          
            <a href="javascript:void(0);" v-else="">å¯»æˆ‘</a>
            <ul class="nav-menu--dropdown">
              
                <li>
                  <a href="https://github.com/wmpscc" target="_blank" rel="external nofollow noopener noreferrer">
                    Github
                  </a>
                </li>
              
                <li>
                  <a href="https://www.jianshu.com/u/fde2534da842" target="_blank" rel="external nofollow noopener noreferrer">
                    ç®€ä¹¦
                  </a>
                </li>
              
                <li>
                  <a href="https://toutiao.io/subjects/345107" target="_blank" rel="external nofollow noopener noreferrer">
                    å¼€å‘è€…å¤´æ¡
                  </a>
                </li>
              
            </ul>
          
        </li>
      
      </ul>
    </nav>
    <i class="iconfont icon-menu"></i>
  </header>
</div>

<script>
  let links = document.querySelectorAll('.nav-item');
  for(let link of links){
    let childrenLink = link.querySelector('ul');
    link.addEventListener('mouseenter', () => {
      if(childrenLink) {
        childrenLink.className = "nav-menu--dropdown active";
      }
    })
    link.addEventListener('mouseleave', () => {
      if(childrenLink) {
        childrenLink.className = "nav-menu--dropdown";
      }
    })
  }
  let rootRealPath = getRealPath(window.location.pathname, true);
  for(let link of links) {
    let linkPath = link.getAttribute("data-path");
    if(linkPath && getRealPath(linkPath, true) === rootRealPath) {
      link.className = "nav-item hover";
    }
  }

  let iconMenu = document.querySelector("i.iconfont.icon-menu"),
    iconMenuClicked = false;
  let navDOM = document.querySelector("nav.site-navigation");
  iconMenu.addEventListener("click", () => {
    iconMenuClicked 
      ? navDOM.className = "site-navigation active"
      : navDOM.className = "site-navigation";
    iconMenuClicked = !iconMenuClicked;
  })
</script>

      
<div class="container home-index">
  
  <div class="post">
    <h1 class="article-title">
      <a href="/CNN%E7%B3%BB%E5%88%97%E4%B9%8B%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B.html">
        <span>CNNç³»åˆ—ä¹‹ç›®æ ‡æ£€æµ‹</span>
      </a>
    </h1>
    <!-- PCç«¯æ–‡ç« ä¿¡æ¯ -->
    <div class="article-top-meta pc-view">
      <span>
        å‘å¸ƒæ—¶é—´ : 2020-01-23
      </span>
    </div>
    <!-- ç§»åŠ¨ç«¯æ–‡ç« ä¿¡æ¯ -->
    <div class="article-top-meta mobile-view">
      <span>
        å‘å¸ƒ : 2020-01-23
      </span>
      
        <span>
        åˆ†ç±» :
          <a href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">
            æ·±åº¦å­¦ä¹ 
          </a>
        </span>
      
      
        <span>
          æµè§ˆ : <span class="article-timer" data-identity="CNNç³»åˆ—ä¹‹ç›®æ ‡æ£€æµ‹.html"></span>
        </span>
      
    </div>
    
    <!-- æ–‡ç« ç®€ä»‹ -->
    <div class="article-content">
      <div class="markdown-body article-content--inner" v-html="mdToHtml(psg.summary)">
        <h3 id="R-CNN"><a href="#R-CNN" class="headerlink" title="R-CNN"></a>R-CNN</h3><p><a href="http://fcv2011.ulsan.ac.kr/files/announcement/513/r-cnn-cvpr.pdf" target="_blank" rel="external nofollow noopener noreferrer">R-CNN</a>ï¼Œè¿™æ˜¯ç»™äºˆå·ç§¯ç¥ç»ç½‘ç»œçš„ç‰©ä½“æ£€æµ‹çš„å¥ åŸºä¹‹ä½œã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯åœ¨å¯¹æ¯å¼ å›¾ç‰‡é€‰å–å¤šä¸ªåŒºåŸŸï¼Œç„¶åæ¯ä¸ªåŒºåŸŸä½œä¸ºä¸€ä¸ªæ ·æœ¬è¿›å…¥ä¸€ä¸ªå·ç§¯ç¥ç»ç½‘ç»œæ¥æå–ç‰¹å¾ï¼Œæœ€åä½¿ç”¨åˆ†ç±»å™¨æ¥å¯¹é½åˆ†ç±»ï¼Œå’Œä¸€ä¸ªå›å½’å™¨æ¥å¾—åˆ°å‡†ç¡®çš„è¾¹æ¡†ã€‚<br><strong>é€‰æ‹©ç‰¹å¾æœç´¢è¾¹æ¡†</strong><br><img src="https://cdn.nlark.com/yuque/0/2020/jpeg/478234/1579762152616-fe3a0045-1879-423c-9684-6660e8bec5f5.jpeg#align=left&display=inline&height=651&name=R-CNN1.jpg&originHeight=651&originWidth=688&size=51277&status=done&style=none&width=688" alt="R-CNN1.jpg"><br>æ¯å¼ å›¾é€‰å– 2000 ä¸ªåŒºåŸŸï¼Œåˆ†åˆ«åšå·ç§¯ï¼Œä½¿ç”¨ SVM å•åˆ†ç±»å™¨åšåˆ¤åˆ«ï¼Œå¯¹å…¶ä½ç½®åšå›å½’ã€‚</p>
      </div>
    </div>
    <div class="article-footer">
      <div class="article-meta pull-left">
        <!-- åˆ†ç±»pcç«¯å¯è§ -->
        <span class="pc-view">
          
            <i class="iconfont icon-tag"></i>åˆ†ç±»:
            <a href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">
              æ·±åº¦å­¦ä¹ 
            </a>
          </span>
          
        <span>
          
            <i class="iconfont icon-06tags"></i>æ ‡ç­¾:
            
              <span class="span--tag">
                <a href="/tags/cnn/">
                  #cnn
                </a>
              </span>
            
              <span class="span--tag">
                <a href="/tags/%E6%80%BB%E7%BB%93/">
                  #æ€»ç»“
                </a>
              </span>
            
              <span class="span--tag">
                <a href="/tags/detection/">
                  #detection
                </a>
              </span>
            
                    
        </span>
      </div>
      
        <div class="article-meta pull-right">
          <span class="pc-view">
            <i class="iconfont icon-view"></i>æµè§ˆ: <span class="article-timer" data-identity="CNNç³»åˆ—ä¹‹ç›®æ ‡æ£€æµ‹.html"></span>
          </span>
        </div>
      
    </div>
  </div>
  
  <div class="post">
    <h1 class="article-title">
      <a href="/CNN%E7%B3%BB%E5%88%97%E4%B9%8B%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB.html">
        <span>CNNç³»åˆ—ä¹‹å›¾åƒåˆ†ç±»</span>
      </a>
    </h1>
    <!-- PCç«¯æ–‡ç« ä¿¡æ¯ -->
    <div class="article-top-meta pc-view">
      <span>
        å‘å¸ƒæ—¶é—´ : 2020-01-23
      </span>
    </div>
    <!-- ç§»åŠ¨ç«¯æ–‡ç« ä¿¡æ¯ -->
    <div class="article-top-meta mobile-view">
      <span>
        å‘å¸ƒ : 2020-01-23
      </span>
      
        <span>
        åˆ†ç±» :
          <a href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">
            æ·±åº¦å­¦ä¹ 
          </a>
        </span>
      
      
        <span>
          æµè§ˆ : <span class="article-timer" data-identity="CNNç³»åˆ—ä¹‹å›¾åƒåˆ†ç±».html"></span>
        </span>
      
    </div>
    
    <!-- æ–‡ç« ç®€ä»‹ -->
    <div class="article-content">
      <div class="markdown-body article-content--inner" v-html="mdToHtml(psg.summary)">
        <h3 id="LeNet"><a href="#LeNet" class="headerlink" title="LeNet"></a>LeNet</h3><p>LeNet æ˜¯ä¸€ç§å…¸å‹çš„å·ç§¯ç¥ç»ç½‘ç»œçš„ç»“æ„ï¼Œç”± Yann LeCun å‘æ˜ã€‚å®ƒçš„ç½‘è·¯ç»“æ„å¦‚ä¸‹å›¾ï¼š<br><img src="https://cdn.nlark.com/yuque/0/2020/png/478234/1579761487010-3d433b90-6d69-4cd2-8bf2-46fbf6023462.png#align=left&display=inline&height=222&name=LeNet-5-structure.png&originHeight=222&originWidth=871&size=44770&status=done&style=none&width=871" alt="LeNet-5-structure.png"></p>
      </div>
    </div>
    <div class="article-footer">
      <div class="article-meta pull-left">
        <!-- åˆ†ç±»pcç«¯å¯è§ -->
        <span class="pc-view">
          
            <i class="iconfont icon-tag"></i>åˆ†ç±»:
            <a href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">
              æ·±åº¦å­¦ä¹ 
            </a>
          </span>
          
        <span>
          
            <i class="iconfont icon-06tags"></i>æ ‡ç­¾:
            
              <span class="span--tag">
                <a href="/tags/cnn/">
                  #cnn
                </a>
              </span>
            
              <span class="span--tag">
                <a href="/tags/classification/">
                  #classification
                </a>
              </span>
            
              <span class="span--tag">
                <a href="/tags/%E6%80%BB%E7%BB%93/">
                  #æ€»ç»“
                </a>
              </span>
            
                    
        </span>
      </div>
      
        <div class="article-meta pull-right">
          <span class="pc-view">
            <i class="iconfont icon-view"></i>æµè§ˆ: <span class="article-timer" data-identity="CNNç³»åˆ—ä¹‹å›¾åƒåˆ†ç±».html"></span>
          </span>
        </div>
      
    </div>
  </div>
  
  <div class="post">
    <h1 class="article-title">
      <a href="/Jetson%20nano%E4%B8%8ERaspberry%20pi%204%20%E5%AE%89%E8%A3%85OpenVINO%20toolkit.html">
        <span>Jetson nanoä¸Raspberry pi 4 å®‰è£…OpenVINO toolkit</span>
      </a>
    </h1>
    <!-- PCç«¯æ–‡ç« ä¿¡æ¯ -->
    <div class="article-top-meta pc-view">
      <span>
        å‘å¸ƒæ—¶é—´ : 2020-01-23
      </span>
    </div>
    <!-- ç§»åŠ¨ç«¯æ–‡ç« ä¿¡æ¯ -->
    <div class="article-top-meta mobile-view">
      <span>
        å‘å¸ƒ : 2020-01-23
      </span>
      
        <span>
        åˆ†ç±» :
          <a href="/categories/%E6%9D%82%E8%AE%B0/">
            æ‚è®°
          </a>
        </span>
      
      
        <span>
          æµè§ˆ : <span class="article-timer" data-identity="Jetson nanoä¸Raspberry pi 4 å®‰è£…OpenVINO toolkit.html"></span>
        </span>
      
    </div>
    
    <!-- æ–‡ç« ç®€ä»‹ -->
    <div class="article-content">
      <div class="markdown-body article-content--inner" v-html="mdToHtml(psg.summary)">
        <h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>ä¹‹å‰åœ¨ raspberry pi 3b ä¸Šï¼Œä½¿ç”¨ Movidius NCS2 å®ç°äº†ä¸€ä¸ªå° demoï¼Œæœ€è¿‘ä¹°æ¥äº†è‹±ä¼Ÿè¾¾çš„ jetson nanoï¼Œæƒ³æŠŠä¹‹å‰çš„é¡¹ç›®ç§»æ¤åˆ°è¿™ä¸Šé¢ã€‚äºæ˜¯æˆ‘æƒ³å½“ç„¶çš„ä¸‹è½½æ ‘è“æ´¾çš„ openvino_toolkitï¼Œå®‰è£…æ—¶æç¤ºåªæ”¯æŒ 32 ä½æ¶æ„ã€‚åº†å¹¸çš„æ˜¯ OpenVINO æ˜¯å¼€æºçš„ï¼Œgithub ä¸Šæœ‰ä¸€ä¸ªå«åš dldt çš„é¡¹ç›®ï¼Œå°±æ˜¯å®ƒã€‚äºæ˜¯å¼€å§‹æœ‰äº†ä¸‹æ–‡ã€‚</p>
      </div>
    </div>
    <div class="article-footer">
      <div class="article-meta pull-left">
        <!-- åˆ†ç±»pcç«¯å¯è§ -->
        <span class="pc-view">
          
            <i class="iconfont icon-tag"></i>åˆ†ç±»:
            <a href="/categories/%E6%9D%82%E8%AE%B0/">
              æ‚è®°
            </a>
          </span>
          
        <span>
          
            <i class="iconfont icon-06tags"></i>æ ‡ç­¾:
            
              <span class="span--tag">
                <a href="/tags/jetson-nano/">
                  #jetson nano
                </a>
              </span>
            
              <span class="span--tag">
                <a href="/tags/openvino/">
                  #openvino
                </a>
              </span>
            
              <span class="span--tag">
                <a href="/tags/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">
                  #ç¯å¢ƒé…ç½®
                </a>
              </span>
            
                    
        </span>
      </div>
      
        <div class="article-meta pull-right">
          <span class="pc-view">
            <i class="iconfont icon-view"></i>æµè§ˆ: <span class="article-timer" data-identity="Jetson nanoä¸Raspberry pi 4 å®‰è£…OpenVINO toolkit.html"></span>
          </span>
        </div>
      
    </div>
  </div>
  
  <div class="post">
    <h1 class="article-title">
      <a href="/magenta%20GPU%20%E7%89%88%E5%AE%89%E8%A3%85.html">
        <span>magenta GPU ç‰ˆå®‰è£…</span>
      </a>
    </h1>
    <!-- PCç«¯æ–‡ç« ä¿¡æ¯ -->
    <div class="article-top-meta pc-view">
      <span>
        å‘å¸ƒæ—¶é—´ : 2020-01-23
      </span>
    </div>
    <!-- ç§»åŠ¨ç«¯æ–‡ç« ä¿¡æ¯ -->
    <div class="article-top-meta mobile-view">
      <span>
        å‘å¸ƒ : 2020-01-23
      </span>
      
        <span>
        åˆ†ç±» :
          <a href="/categories/%E6%9D%82%E8%AE%B0/">
            æ‚è®°
          </a>
        </span>
      
      
        <span>
          æµè§ˆ : <span class="article-timer" data-identity="magenta GPU ç‰ˆå®‰è£….html"></span>
        </span>
      
    </div>
    
    <!-- æ–‡ç« ç®€ä»‹ -->
    <div class="article-content">
      <div class="markdown-body article-content--inner" v-html="mdToHtml(psg.summary)">
        <h3 id="å…³äº"><a href="#å…³äº" class="headerlink" title="å…³äº"></a>å…³äº</h3><p><strong>Magenta</strong> is a research project exploring the role of machine learning in the process of creating art and music. Primarily this involves developing new deep learning and reinforcement learning algorithms for generating songs, images, drawings, and other materials. But itâ€™s also an exploration in building smart tools and interfaces that allow artists and musicians to extend (not replace!) their processes using these models. Magenta was started by some researchers and engineers from the <a href="https://research.google.com/teams/brain/" target="_blank" rel="external nofollow noopener noreferrer">Google Brain team</a>, but many others have contributed significantly to the project. We use<a href="https://www.tensorflow.org/" target="_blank" rel="external nofollow noopener noreferrer">TensorFlow</a> and release our models and tools in open source on this GitHub. If youâ€™d like to learn more about Magenta, check out our <a href="https://magenta.tensorflow.org/" target="_blank" rel="external nofollow noopener noreferrer">blog</a>, where we post technical details. You can also join our <a href="https://groups.google.com/a/tensorflow.org/forum/#!forum/magenta-discuss" target="_blank" rel="external nofollow noopener noreferrer">discussion group</a>.</p>
<p>This is the home for our Python TensorFlow library. To use our models in the browser with <a href="https://js.tensorflow.org/" target="_blank" rel="external nofollow noopener noreferrer">TensorFlow.js</a>, head to the <a href="https://github.com/tensorflow/magenta-js" target="_blank" rel="external nofollow noopener noreferrer">Magenta.js</a> repository.</p>
      </div>
    </div>
    <div class="article-footer">
      <div class="article-meta pull-left">
        <!-- åˆ†ç±»pcç«¯å¯è§ -->
        <span class="pc-view">
          
            <i class="iconfont icon-tag"></i>åˆ†ç±»:
            <a href="/categories/%E6%9D%82%E8%AE%B0/">
              æ‚è®°
            </a>
          </span>
          
        <span>
          
            <i class="iconfont icon-06tags"></i>æ ‡ç­¾:
            
              <span class="span--tag">
                <a href="/tags/magenta/">
                  #Â magenta
                </a>
              </span>
            
                    
        </span>
      </div>
      
        <div class="article-meta pull-right">
          <span class="pc-view">
            <i class="iconfont icon-view"></i>æµè§ˆ: <span class="article-timer" data-identity="magenta GPU ç‰ˆå®‰è£….html"></span>
          </span>
        </div>
      
    </div>
  </div>
  
  <div class="post">
    <h1 class="article-title">
      <a href="/Kaggle%E6%9D%82%E8%AE%B0.html">
        <span>Kaggleæ‚è®°</span>
      </a>
    </h1>
    <!-- PCç«¯æ–‡ç« ä¿¡æ¯ -->
    <div class="article-top-meta pc-view">
      <span>
        å‘å¸ƒæ—¶é—´ : 2020-01-23
      </span>
    </div>
    <!-- ç§»åŠ¨ç«¯æ–‡ç« ä¿¡æ¯ -->
    <div class="article-top-meta mobile-view">
      <span>
        å‘å¸ƒ : 2020-01-23
      </span>
      
        <span>
        åˆ†ç±» :
          <a href="/categories/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/">
            æ•°æ®ç§‘å­¦
          </a>
        </span>
      
      
        <span>
          æµè§ˆ : <span class="article-timer" data-identity="Kaggleæ‚è®°.html"></span>
        </span>
      
    </div>
    
    <!-- æ–‡ç« ç®€ä»‹ -->
    <div class="article-content">
      <div class="markdown-body article-content--inner" v-html="mdToHtml(psg.summary)">
        <h2 id="æ•°å€¼ç‰¹å¾"><a href="#æ•°å€¼ç‰¹å¾" class="headerlink" title="æ•°å€¼ç‰¹å¾"></a>æ•°å€¼ç‰¹å¾</h2><h3 id="scaling"><a href="#scaling" class="headerlink" title="scaling"></a>scaling</h3><ul>
<li><p>åŸºäºæ ‘çš„æ¨¡å‹ä¸ä¾èµ– scalingï¼ŒéåŸºäºæ ‘çš„æ¨¡å‹æ°æ°ç›¸å</p>
</li>
<li><p>å½“ä¸¤ä¸ªå±æ€§æ•°é‡çº§çš„å·®è·å¾ˆå¤§æ—¶ï¼ŒåŸæ¥å¾®å°çš„è·ç¦»ï¼Œå°†å˜çš„å¾ˆå¤§ï¼Œè¿™å¯¹ KNNã€linear models æœ‰å¾ˆå¤§å½±å“ã€‚</p>
</li>
<li><p>æ¢¯åº¦ä¸‹é™æ³•åœ¨æ²¡æœ‰é€‚å½“æ”¾ç¼©çš„æƒ…å†µä¸‹ä¼šå˜çš„å¾ˆç³Ÿç³•ï¼Œç”±äºè¿™ä¸ªåŸå› ï¼Œç¥ç»ç½‘ç»œåœ¨ç‰¹å¾é¢„å¤„ç†ä¸Šä¸çº¿æ€§æ¨¡å‹ç›¸ä¼¼ã€‚</p>
</li>
<li><p>æ ‡å‡†åŒ–ä¸å½±å“åˆ†å¸ƒ</p>
</li>
<li><p>åœ¨ MinMaxScaling æˆ– StandardScaling è½¬æ¢ä¹‹åï¼Œç‰¹æ€§å¯¹éæ ‘æ¨¡å‹çš„å½±å“å¤§è‡´ç›¸åŒã€‚</p>
</li>
<li><p>outliers ç¦»ç¾¤ç‚¹</p>
</li>
<li><p>ç¦»ç¾¤ç‚¹æ—¢å¯ä»¥å‡ºç°åœ¨ç‰¹å¾å€¼ X é‡Œï¼Œä¹Ÿå¯ä»¥åœ¨ç›®æ ‡å€¼ y ä¸­ï¼Œè¿™ä¼šå¯¹æ¨¡å‹äº§ç”Ÿå½±å“</p>
</li>
<li><p>æˆ‘ä»¬å¯ä»¥å°†ç‰¹å¾å€¼æ§åˆ¶åœ¨ä¸¤ä¸ªè®¾å®šçš„ä¸‹ç•Œå’Œä¸Šç•Œä¹‹é—´ï¼Œä¾‹å¦‚ç¬¬ä¸€ç™¾åˆ†ä½æ•°å’Œ 99 ç™¾åˆ†ä½æ•°ä¹‹é—´ã€‚</p>
</li>
</ul>
      </div>
    </div>
    <div class="article-footer">
      <div class="article-meta pull-left">
        <!-- åˆ†ç±»pcç«¯å¯è§ -->
        <span class="pc-view">
          
            <i class="iconfont icon-tag"></i>åˆ†ç±»:
            <a href="/categories/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/">
              æ•°æ®ç§‘å­¦
            </a>
          </span>
          
        <span>
          
            <i class="iconfont icon-06tags"></i>æ ‡ç­¾:
            
              <span class="span--tag">
                <a href="/tags/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B/">
                  #ç‰¹å¾å·¥ç¨‹
                </a>
              </span>
            
              <span class="span--tag">
                <a href="/tags/kaggle/">
                  #kaggle
                </a>
              </span>
            
                    
        </span>
      </div>
      
        <div class="article-meta pull-right">
          <span class="pc-view">
            <i class="iconfont icon-view"></i>æµè§ˆ: <span class="article-timer" data-identity="Kaggleæ‚è®°.html"></span>
          </span>
        </div>
      
    </div>
  </div>
  
  <div class="post">
    <h1 class="article-title">
      <a href="/SKlearn%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BC%B0%E6%96%B9%E6%B3%95.html">
        <span>SKlearnæ¨¡å‹è¯„ä¼°æ–¹æ³•</span>
      </a>
    </h1>
    <!-- PCç«¯æ–‡ç« ä¿¡æ¯ -->
    <div class="article-top-meta pc-view">
      <span>
        å‘å¸ƒæ—¶é—´ : 2020-01-23
      </span>
    </div>
    <!-- ç§»åŠ¨ç«¯æ–‡ç« ä¿¡æ¯ -->
    <div class="article-top-meta mobile-view">
      <span>
        å‘å¸ƒ : 2020-01-23
      </span>
      
        <span>
        åˆ†ç±» :
          <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">
            æœºå™¨å­¦ä¹ 
          </a>
        </span>
      
      
        <span>
          æµè§ˆ : <span class="article-timer" data-identity="SKlearnæ¨¡å‹è¯„ä¼°æ–¹æ³•.html"></span>
        </span>
      
    </div>
    
    <!-- æ–‡ç« ç®€ä»‹ -->
    <div class="article-content">
      <div class="markdown-body article-content--inner" v-html="mdToHtml(psg.summary)">
        <h4 id="1-accuracy-score"><a href="#1-accuracy-score" class="headerlink" title="1.accuracy_score"></a>1.accuracy_score</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># å‡†ç¡®ç‡</span><br><span class="line">import numpy as np</span><br><span class="line">from sklearn.metrics import accuracy_score</span><br><span class="line">y_pred &#x3D; [0, 2, 1, 3,9,9,8,5,8]</span><br><span class="line">y_true &#x3D; [0, 1, 2, 3,2,6,3,5,9]</span><br><span class="line"></span><br><span class="line">accuracy_score(y_true, y_pred)</span><br><span class="line">Out[127]: 0.33333333333333331</span><br><span class="line"></span><br><span class="line">accuracy_score(y_true, y_pred, normalize&#x3D;False)  # ç±»ä¼¼æµ·æ˜è·ç¦»ï¼Œæ¯ä¸ªç±»åˆ«æ±‚å‡†ç¡®åï¼Œå†æ±‚å¾®å¹³å‡</span><br><span class="line">Out[128]: 3</span><br></pre></td></tr></table></figure>
      </div>
    </div>
    <div class="article-footer">
      <div class="article-meta pull-left">
        <!-- åˆ†ç±»pcç«¯å¯è§ -->
        <span class="pc-view">
          
            <i class="iconfont icon-tag"></i>åˆ†ç±»:
            <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">
              æœºå™¨å­¦ä¹ 
            </a>
          </span>
          
        <span>
          
            <i class="iconfont icon-06tags"></i>æ ‡ç­¾:
            
              <span class="span--tag">
                <a href="/tags/kaggle/">
                  #kaggle
                </a>
              </span>
            
              <span class="span--tag">
                <a href="/tags/sklearn/">
                  #sklearn
                </a>
              </span>
            
                    
        </span>
      </div>
      
        <div class="article-meta pull-right">
          <span class="pc-view">
            <i class="iconfont icon-view"></i>æµè§ˆ: <span class="article-timer" data-identity="SKlearnæ¨¡å‹è¯„ä¼°æ–¹æ³•.html"></span>
          </span>
        </div>
      
    </div>
  </div>
  
  <div class="post">
    <h1 class="article-title">
      <a href="/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E4%B9%8B%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0.html">
        <span>æ•°æ®æŒ–æ˜ä¹‹æœºå™¨å­¦ä¹ </span>
      </a>
    </h1>
    <!-- PCç«¯æ–‡ç« ä¿¡æ¯ -->
    <div class="article-top-meta pc-view">
      <span>
        å‘å¸ƒæ—¶é—´ : 2020-01-23
      </span>
    </div>
    <!-- ç§»åŠ¨ç«¯æ–‡ç« ä¿¡æ¯ -->
    <div class="article-top-meta mobile-view">
      <span>
        å‘å¸ƒ : 2020-01-23
      </span>
      
        <span>
        åˆ†ç±» :
          <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">
            æœºå™¨å­¦ä¹ 
          </a>
        </span>
      
      
        <span>
          æµè§ˆ : <span class="article-timer" data-identity="æ•°æ®æŒ–æ˜ä¹‹æœºå™¨å­¦ä¹ .html"></span>
        </span>
      
    </div>
    
    <!-- æ–‡ç« ç®€ä»‹ -->
    <div class="article-content">
      <div class="markdown-body article-content--inner" v-html="mdToHtml(psg.summary)">
        <p>æœºå™¨å­¦ä¹ å¸¸ç”¨æ–¹æ³•ï¼ŒåŒ…å«è°ƒå‚ï¼Œå•æ¨¡å‹ï¼Œé›†æˆå­¦ä¹ ç­‰ã€‚</p>
      </div>
    </div>
    <div class="article-footer">
      <div class="article-meta pull-left">
        <!-- åˆ†ç±»pcç«¯å¯è§ -->
        <span class="pc-view">
          
            <i class="iconfont icon-tag"></i>åˆ†ç±»:
            <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">
              æœºå™¨å­¦ä¹ 
            </a>
          </span>
          
        <span>
          
            <i class="iconfont icon-06tags"></i>æ ‡ç­¾:
            
              <span class="span--tag">
                <a href="/tags/kaggle/">
                  #kaggle
                </a>
              </span>
            
              <span class="span--tag">
                <a href="/tags/sklearn/">
                  #sklearn
                </a>
              </span>
            
                    
        </span>
      </div>
      
        <div class="article-meta pull-right">
          <span class="pc-view">
            <i class="iconfont icon-view"></i>æµè§ˆ: <span class="article-timer" data-identity="æ•°æ®æŒ–æ˜ä¹‹æœºå™¨å­¦ä¹ .html"></span>
          </span>
        </div>
      
    </div>
  </div>
  
  <div class="post">
    <h1 class="article-title">
      <a href="/%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9CII.html">
        <span>æ•°æ®é¢„å¤„ç†å¸¸ç”¨æ“ä½œII</span>
      </a>
    </h1>
    <!-- PCç«¯æ–‡ç« ä¿¡æ¯ -->
    <div class="article-top-meta pc-view">
      <span>
        å‘å¸ƒæ—¶é—´ : 2020-01-23
      </span>
    </div>
    <!-- ç§»åŠ¨ç«¯æ–‡ç« ä¿¡æ¯ -->
    <div class="article-top-meta mobile-view">
      <span>
        å‘å¸ƒ : 2020-01-23
      </span>
      
        <span>
        åˆ†ç±» :
          <a href="/categories/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/">
            æ•°æ®ç§‘å­¦
          </a>
        </span>
      
      
        <span>
          æµè§ˆ : <span class="article-timer" data-identity="æ•°æ®é¢„å¤„ç†å¸¸ç”¨æ“ä½œII.html"></span>
        </span>
      
    </div>
    
    <!-- æ–‡ç« ç®€ä»‹ -->
    <div class="article-content">
      <div class="markdown-body article-content--inner" v-html="mdToHtml(psg.summary)">
        <p>è®°å½•å®æˆ˜è¿‡ç¨‹ä¸­åœ¨æ•°æ®é¢„å¤„ç†ç¯èŠ‚ç”¨åˆ°çš„æ–¹æ³•</p>
<blockquote>
<p>æ›´å¤šç¬”è®°ï¼š<a href="https://github.com/wmpscc/DataMiningNotesAndPractice" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/wmpscc/DataMiningNotesAndPractice</a></p>
</blockquote>
<h4 id="ç”Ÿæˆéšæœºæ•°åºåˆ—"><a href="#ç”Ÿæˆéšæœºæ•°åºåˆ—" class="headerlink" title="ç”Ÿæˆéšæœºæ•°åºåˆ—"></a>ç”Ÿæˆéšæœºæ•°åºåˆ—</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">randIndex &#x3D; random.sample(range(trainSize, len(trainData_copy)), 5*trainSize)</span><br></pre></td></tr></table></figure>

<h4 id="è®¡ç®—æŸä¸ªå€¼å‡ºç°çš„æ¬¡æ•°"><a href="#è®¡ç®—æŸä¸ªå€¼å‡ºç°çš„æ¬¡æ•°" class="headerlink" title="è®¡ç®—æŸä¸ªå€¼å‡ºç°çš„æ¬¡æ•°"></a>è®¡ç®—æŸä¸ªå€¼å‡ºç°çš„æ¬¡æ•°</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">titleSet &#x3D; set(titleData)</span><br><span class="line">for i in titleSet:</span><br><span class="line">    count &#x3D; titleData.count(i)</span><br></pre></td></tr></table></figure>
      </div>
    </div>
    <div class="article-footer">
      <div class="article-meta pull-left">
        <!-- åˆ†ç±»pcç«¯å¯è§ -->
        <span class="pc-view">
          
            <i class="iconfont icon-tag"></i>åˆ†ç±»:
            <a href="/categories/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/">
              æ•°æ®ç§‘å­¦
            </a>
          </span>
          
        <span>
          
            <i class="iconfont icon-06tags"></i>æ ‡ç­¾:
            
              <span class="span--tag">
                <a href="/tags/%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86/">
                  #æ•°æ®é¢„å¤„ç†
                </a>
              </span>
            
                    
        </span>
      </div>
      
        <div class="article-meta pull-right">
          <span class="pc-view">
            <i class="iconfont icon-view"></i>æµè§ˆ: <span class="article-timer" data-identity="æ•°æ®é¢„å¤„ç†å¸¸ç”¨æ“ä½œII.html"></span>
          </span>
        </div>
      
    </div>
  </div>
  
  <div class="post">
    <h1 class="article-title">
      <a href="/%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9CI.html">
        <span>æ•°æ®é¢„å¤„ç†å¸¸ç”¨æ“ä½œI</span>
      </a>
    </h1>
    <!-- PCç«¯æ–‡ç« ä¿¡æ¯ -->
    <div class="article-top-meta pc-view">
      <span>
        å‘å¸ƒæ—¶é—´ : 2020-01-23
      </span>
    </div>
    <!-- ç§»åŠ¨ç«¯æ–‡ç« ä¿¡æ¯ -->
    <div class="article-top-meta mobile-view">
      <span>
        å‘å¸ƒ : 2020-01-23
      </span>
      
        <span>
        åˆ†ç±» :
          <a href="/categories/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/">
            æ•°æ®ç§‘å­¦
          </a>
        </span>
      
      
        <span>
          æµè§ˆ : <span class="article-timer" data-identity="æ•°æ®é¢„å¤„ç†å¸¸ç”¨æ“ä½œI.html"></span>
        </span>
      
    </div>
    
    <!-- æ–‡ç« ç®€ä»‹ -->
    <div class="article-content">
      <div class="markdown-body article-content--inner" v-html="mdToHtml(psg.summary)">
        <h4 id="å¤„ç†æ—¥æœŸ"><a href="#å¤„ç†æ—¥æœŸ" class="headerlink" title="å¤„ç†æ—¥æœŸ"></a>å¤„ç†æ—¥æœŸ</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">birth &#x3D; trainData[&#39;birth_date&#39;]</span><br><span class="line">birthDate &#x3D; pd.to_datetime(birth)</span><br><span class="line">end &#x3D; pd.datetime(2018, 1, 1)</span><br><span class="line"># è®¡ç®—å¤©æ•°</span><br><span class="line">birthDay &#x3D; end - birthDate</span><br><span class="line">birthDay.astype(&#39;timedelta64[D]&#39;)</span><br><span class="line"># timedelta64 è½¬åˆ° int64</span><br><span class="line">trainData[&#39;birth_date&#39;] &#x3D; birthDay.dt.days</span><br></pre></td></tr></table></figure>
      </div>
    </div>
    <div class="article-footer">
      <div class="article-meta pull-left">
        <!-- åˆ†ç±»pcç«¯å¯è§ -->
        <span class="pc-view">
          
            <i class="iconfont icon-tag"></i>åˆ†ç±»:
            <a href="/categories/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/">
              æ•°æ®ç§‘å­¦
            </a>
          </span>
          
        <span>
          
            <i class="iconfont icon-06tags"></i>æ ‡ç­¾:
            
              <span class="span--tag">
                <a href="/tags/%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86/">
                  #æ•°æ®é¢„å¤„ç†
                </a>
              </span>
            
                    
        </span>
      </div>
      
        <div class="article-meta pull-right">
          <span class="pc-view">
            <i class="iconfont icon-view"></i>æµè§ˆ: <span class="article-timer" data-identity="æ•°æ®é¢„å¤„ç†å¸¸ç”¨æ“ä½œI.html"></span>
          </span>
        </div>
      
    </div>
  </div>
  
  <div class="post">
    <h1 class="article-title">
      <a href="/SKlearn%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html">
        <span>SKlearnå­¦ä¹ ç¬”è®°</span>
      </a>
    </h1>
    <!-- PCç«¯æ–‡ç« ä¿¡æ¯ -->
    <div class="article-top-meta pc-view">
      <span>
        å‘å¸ƒæ—¶é—´ : 2020-01-23
      </span>
    </div>
    <!-- ç§»åŠ¨ç«¯æ–‡ç« ä¿¡æ¯ -->
    <div class="article-top-meta mobile-view">
      <span>
        å‘å¸ƒ : 2020-01-23
      </span>
      
        <span>
        åˆ†ç±» :
          <a href="/categories/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/">
            æ•°æ®ç§‘å­¦
          </a>
        </span>
      
      
        <span>
          æµè§ˆ : <span class="article-timer" data-identity="SKlearnå­¦ä¹ ç¬”è®°.html"></span>
        </span>
      
    </div>
    
    <!-- æ–‡ç« ç®€ä»‹ -->
    <div class="article-content">
      <div class="markdown-body article-content--inner" v-html="mdToHtml(psg.summary)">
        <h4 id="train-test-split-å°†æ•°ç»„æˆ–çŸ©é˜µåˆ†è§£ä¸ºéšæœºåºåˆ—çš„è®­ç»ƒå’Œæµ‹è¯•å­é›†"><a href="#train-test-split-å°†æ•°ç»„æˆ–çŸ©é˜µåˆ†è§£ä¸ºéšæœºåºåˆ—çš„è®­ç»ƒå’Œæµ‹è¯•å­é›†" class="headerlink" title="train_test_split() å°†æ•°ç»„æˆ–çŸ©é˜µåˆ†è§£ä¸ºéšæœºåºåˆ—çš„è®­ç»ƒå’Œæµ‹è¯•å­é›†"></a>train_test_split() å°†æ•°ç»„æˆ–çŸ©é˜µåˆ†è§£ä¸ºéšæœºåºåˆ—çš„è®­ç»ƒå’Œæµ‹è¯•å­é›†</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">from sklearn.model_selection import train_test_split</span><br><span class="line"></span><br><span class="line">train_set, test_set &#x3D; train_test_split(housing, test_size&#x3D;0.2, random_state&#x3D;42)</span><br></pre></td></tr></table></figure>

<ul>
<li>random_state å‚æ•°ç›¸å½“äºè®¾ç½®éšæœºæ•°ç§å­</li>
<li>stratify å¦‚æœä¸æ˜¯â€œnullâ€ï¼Œåˆ™å°†æ•°æ®ä»¥åˆ†å±‚æ–¹å¼æ‹†åˆ†ï¼Œå°†å…¶ç”¨ä½œç±»æ ‡ç­¾ã€‚</li>
</ul>
<h4 id="StratifiedShuffleSplit-å°†æ•°æ®åˆ†ä¸ºå¤šå¯¹-train-test-é›†å¹¶éšæœºæ‰“ä¹±"><a href="#StratifiedShuffleSplit-å°†æ•°æ®åˆ†ä¸ºå¤šå¯¹-train-test-é›†å¹¶éšæœºæ‰“ä¹±" class="headerlink" title="StratifiedShuffleSplit() å°†æ•°æ®åˆ†ä¸ºå¤šå¯¹ train/test é›†å¹¶éšæœºæ‰“ä¹±"></a>StratifiedShuffleSplit() å°†æ•°æ®åˆ†ä¸ºå¤šå¯¹ train/test é›†å¹¶éšæœºæ‰“ä¹±</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">from  sklearn.model_selection import StratifiedShuffleSplit</span><br><span class="line">StratifiedShuffleSplit(n_splits&#x3D;10,test_size&#x3D;None,train_size&#x3D;None, random_state&#x3D;None)</span><br></pre></td></tr></table></figure>

<ul>
<li>n_splits æ˜¯å°†è®­ç»ƒæ•°æ®åˆ†æˆ train/test å¯¹çš„ç»„æ•°ï¼Œå¯æ ¹æ®éœ€è¦è¿›è¡Œè®¾ç½®ï¼Œé»˜è®¤ä¸º 10</li>
<li>å‚æ•° test_size å’Œ train_size æ˜¯ç”¨æ¥è®¾ç½® train/test å¯¹ä¸­ train å’Œ test æ‰€å çš„æ¯”ä¾‹</li>
<li>å‚æ•° random_state ç›¸å½“äºéšæœºæ•°ç§å­</li>
</ul>
      </div>
    </div>
    <div class="article-footer">
      <div class="article-meta pull-left">
        <!-- åˆ†ç±»pcç«¯å¯è§ -->
        <span class="pc-view">
          
            <i class="iconfont icon-tag"></i>åˆ†ç±»:
            <a href="/categories/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/">
              æ•°æ®ç§‘å­¦
            </a>
          </span>
          
        <span>
          
            <i class="iconfont icon-06tags"></i>æ ‡ç­¾:
            
              <span class="span--tag">
                <a href="/tags/sklearn/">
                  #sklearn
                </a>
              </span>
            
                    
        </span>
      </div>
      
        <div class="article-meta pull-right">
          <span class="pc-view">
            <i class="iconfont icon-view"></i>æµè§ˆ: <span class="article-timer" data-identity="SKlearnå­¦ä¹ ç¬”è®°.html"></span>
          </span>
        </div>
      
    </div>
  </div>
  

  <nav class="page-navigation">
    
      <a href="/page/4/">ä¸Šä¸€é¡µ</a>
    
    
      <a href="/page/6/">ä¸‹ä¸€é¡µ</a>
    
  </nav>

  
    <script defer>
const valineAPI = (() => {
  try {
    AV.init("Epge4Qisj9i3E08wl1q1cSWB-gzGzoHsz", "ClV5c29GDRy9RkLPqrac09OT");
  } catch(error) {}
  const isExist = (identity) => {
    identity = identity || getRealPath();
    let query = new AV.Query('Timer');
    return new Promise((resolve, reject) => {
      query.equalTo("identity", identity);
      query.find().then(results => {
        resolve(results.length > 0);
      }, error => reject(error));
    })
  }

  const _get = (identity) => {
    let query = null;
    if(identity && identity instanceof Array){
      let querys = [];
      for(let i = 0; i < identity.length; ++i) {
        querys[i] = new AV.Query('Timer');
        querys[i].equalTo('identity', identity[i]);
      }
      query = AV.Query.or.apply(null ,querys);
    } else {
      identity = identity || getRealPath();
      query = new AV.Query("Timer");
      query.equalTo("identity", identity);
    }

    return new Promise((resolve, reject) => {
      query.find()
      .then(results => resolve(results))
      .catch(error => reject(error))
    })
  }

  const create = (identity) => {
    identity = identity || getRealPath();
    return new Promise((resolve, reject) => {
      let Todo = AV.Object.extend('Timer');
      let todo = new Todo();
      todo.set("times", 1);
      todo.set("identity", identity);
      todo.save().then(res => resolve(true), error => reject(error));
    })
  }

  const update = (identity) => {
    identity = identity || getRealPath();
    return new Promise((resolve, reject) => {
      let query = new AV.Query('Timer');
      query.equalTo("identity", identity);
      query.find().then(todos => {
        todos.forEach(todo => {
          todo.set("times", todo.attributes.times + 1);
        });
        return AV.Object.saveAll(todos);
      }).then(todos => resolve(true), error => reject(error));
    })
  }

  return {
    isExist,
    _get,
    update,
    create
  }
})()

const calcAndWriteTimes = () => {
  let isPost = false;

  let timerAllDOM = document.querySelectorAll(".article-timer");

  if(isPost) {
    let identity = timerAllDOM[0].getAttribute("data-identity");
    valineAPI.isExist(identity)
    .then(exist => {
      if(exist) {
        return valineAPI.update(identity);
      }
      return new Promise(resolve => resolve(true));
    })
    .then( succuess => valineAPI._get(identity))
    .then( result => timerAllDOM[0].innerText = result[0].attributes.times)
    .catch(error => console.log(error.message))
    return ;
  }

  let timerDOMCache = {};

  for(let timerDOM of timerAllDOM) {
    let identity = timerDOM.getAttribute("data-identity");
    if(timerDOMCache.hasOwnProperty(identity)){
      timerDOMCache[identity].dom.push(timerDOM);
    }else{
      timerDOMCache[identity] = {
        dom: [timerDOM],
        times: undefined
      };
    }
  }

  let identities = Object.keys(timerDOMCache);
  valineAPI._get(identities).then(results => {
    for(let result of results) {
      let {identity, times} = result.attributes;
      timerDOMCache[identity].times = times;
      timerDOMCache[identity].dom.map(item => item.innerText = times);
    }
    for(let identity of identities) {
      if(timerDOMCache[identity].times){
        continue;
      }
      timerDOMCache[identity].dom.map(item => item.innerText = 1);
      valineAPI.create(identity);
    }
  }).catch(error => console.log(error.message))
}

if(true){
  calcAndWriteTimes();
}
</script>
   
</div>


      <footer>
  <p class="site-info">
    åšå®¢å·²èŒèŒå“’è¿è¡Œ<span id="time-to-now"></span><span class="my-face">(â—'â—¡'â—)ï¾‰â™¥</span>
    <br>
    Theme - <a href="https://github.com/dongyuanxin/theme-bmw" target="_blank" rel="external nofollow noopener noreferrer">BMW</a> | Made With ğŸ’— | Powered by <a href="https://godbmw.com/" target="_blank" rel="external nofollow noopener noreferrer">GodBMW</a>
    <br>
    ICPè¯:<a href="http://www.beian.miit.gov.cn" target="_blank" rel="external nofollow noopener noreferrer">ç²¤ICPå¤‡19011977å·-1</a> 
  </p>
</footer>



<script>
const timeToNowDOM = document.querySelector("#time-to-now");
const startTimestamp = new Date(2017, 8, 20).getTime();

const updateTimeStr = () => {
  let offset = parseInt(
      (new Date().getTime() - startTimestamp) / 1000,
      10
    ),
    day = Math.floor(offset / 86400),
    hour = Math.floor((offset % 86400) / 3600),
    minute = Math.floor(((offset % 86400) % 3600) / 60),
    second = Math.floor(((offset % 86400) % 3600) % 60);
  timeToNowDOM.innerHTML =
    day + "å¤©" + hour + "å°æ—¶" + minute + "åˆ†é’Ÿ" + second + "ç§’";
  setTimeout(updateTimeStr, 500);
}

setTimeout(updateTimeStr, 500);
</script>


      <div class="back-to-top hidden">
  <span>
    <i class="iconfont icon-60"></i><span></span>%
  </span>
</div>

<script>
const updateIconToTop = percent => {
  let dom = document.querySelector(".back-to-top span span");
  dom.innerText = percent;
  if(percent < 1) {
    document.querySelector(".back-to-top").className = "back-to-top hidden";
  } else {
    document.querySelector(".back-to-top").className = "back-to-top";
  }
}

const handleScoll = () => {
  let isRunning = false;
  return () => {
    if (isRunning) return;
    isRunning = true;
    window.requestAnimationFrame(timestamp => {
      let scrollTop =
          document.documentElement.scrollTop || document.body.scrollTop,
        scrollHeight =
          document.documentElement.scrollHeight ||
          document.body.scrollHeight,
        clientHeight =
          document.documentElement.clientHeight ||
          document.body.clientHeight;
      isRunning = false;
      if (scrollTop <= 1) {
        updateIconToTop(0);
        return;
      }
      if (scrollTop + clientHeight >= scrollHeight) {
        updateIconToTop(100);
      } else {
        updateIconToTop(parseInt(
          100 * scrollTop / (scrollHeight - clientHeight),
          10
        ));
      }
    });
  };
}

const backToTop = () => {
  let scrollTop =
      document.documentElement.scrollTop || document.body.scrollTop,
    delay = 10,
    time = 200;
  if (scrollTop <= 20) {
    document.documentElement.scrollTop = 0;
    document.body.scrollTop = 0;
    return;
  }
  let step = Math.ceil(scrollTop * delay / time);
  let timer = setInterval(() => {
    scrollTop =
      document.documentElement.scrollTop || document.body.scrollTop;
    if (scrollTop - step <= 0) {
      document.documentElement.scrollTop = 0;
      document.body.scrollTop = 0;
      clearInterval(timer);
    } else {
      document.documentElement.scrollTop = scrollTop - step;
      document.body.scrollTop = scrollTop - step;
    }
  }, delay);
}

document.addEventListener("scroll", handleScoll(), false);

document.querySelector(".back-to-top").addEventListener("click", backToTop, false);

</script>

    </div>

    
      <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
<script>
  (() => {
    const mathjaxConfig = {
      showProcessingMessages: false, //å…³é—­jsåŠ è½½è¿‡ç¨‹ä¿¡æ¯
      messageStyle: "none", //ä¸æ˜¾ç¤ºä¿¡æ¯
      jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
        inlineMath: [["$", "$"], ["\\(", "\\)"]], //è¡Œå†…å…¬å¼é€‰æ‹©ç¬¦
        displayMath: [["$$", "$$"], ["\\[", "\\]"]], //æ®µå†…å…¬å¼é€‰æ‹©ç¬¦
        skipTags: ["script", "noscript", "style", "textarea", "pre", "code", "a"] //é¿å¼€æŸäº›æ ‡ç­¾
      },
      "HTML-CSS": {
        availableFonts: ["STIX", "TeX"], //å¯é€‰å­—ä½“
        showMathMenu: false //å…³é—­å³å‡»èœå•æ˜¾ç¤º
      }
    }

    let mathjaxInterval = setInterval(() => {
      if(!window.MathJax){
        return;
      }
      window.MathJax.Hub.Config(mathjaxConfig)
      window.MathJax.Hub.Queue(["Typeset", MathJax.Hub, document.getElementById('app')])

      clearInterval(mathjaxInterval)
    }, 10)    
  })()
</script>
    

    <script src="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.js" async></script>
<script async>
  let fancyTimer = setInterval(function(){
    if(!window.$){
      return;
    }
    $(document).ready(function() {
      $(".post img").each(function () {
        if($(this).parent().get(0).tagName.toLowerCase() === "a") {
          return;
        }
        // $(this).attr("data-fancybox", "gallery"); // if you add 'data-fancybox', img will display after showed
        var element = document.createElement("a");
        $(element).attr("data-fancybox", "gallery");
        $(element).attr("href", $(this).attr("src"));
        $(this).wrap(element);
      });
      
      clearInterval(fancyTimer);
    });
  }, 10);
</script>

    
      
         
          <script src="/custom/script.js" async></script>
        
      
    
  </body>

</html>
